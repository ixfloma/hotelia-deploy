import{a as p,h as m,o as d,c,b as t,w as r,v as _,F as g,r as f,d as h,t as i,e as k,f as v,g as b}from"./vendor.e5e84315.js";const y=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const e of s.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&u(e)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};y();var D=(l,a)=>{const n=l.__vccOpts||l;for(const[u,o]of a)n[u]=o;return n};const j={data(){return{nama:"",nomorkamar:"",jeniskamar:"Single",harga:"150000",kodetamu:"",datasemua:[],tamus:[],tglmsk:"",tglklr:"",bulan:"0"}},created(){this.getTamu(),this.getView()},methods:{async saveRekord(){try{await p.post("https://uas-backend-hotel.glitch.me/rekord",{kode_tamu:this.kodetamu.kode_tamu,tgl_inap:tglmsk.value,tgl_keluar:tglklr.value,no_kamar:this.nomorkamar,jenis_kamar:this.jeniskamar})}catch(l){console.log(l)}},async getView(){try{var l=null;if(this.bulan==0?l=await p.get("https://uas-backend-hotel.glitch.me/view"):l=await p.get("https://uas-backend-hotel.glitch.me/view/partial?bulan="+this.bulan),l.data.length==0)this.datasemua=[],console.log(this.datasemua);else for(var a=0;a<l.data.length;a++){l.data[a].jenis_kamar=="Single"?l.data[a].tarif=15e4:l.data[a].jenis_kamar=="Double"?l.data[a].tarif=25e4:l.data[a].jenis_kamar=="Suite"?l.data[a].tarif=425e3:l.data[a].jenis_kamar=="VIP"&&(l.data[a].tarif=55e4),l.data[a].tgl_inap=m(l.data[a].tgl_inap).utc().format("YYYY-MM-DD"),l.data[a].tgl_keluar=m(l.data[a].tgl_keluar).utc().format("YYYY-MM-DD");const n=m(l.data[a].tgl_inap),u=m(l.data[a].tgl_keluar),o=m.duration(u.diff(n));l.data[a].durasi=o.asDays(),l.data[a].total=l.data[a].tarif*l.data[a].durasi,this.datasemua=l.data}}catch(n){console.log(n)}},async getTamu(){try{const l=await p.get("https://uas-backend-hotel.glitch.me/rekord");this.tamus=l.data,this.nama=this.tamus[0].nama_tamu,this.kodetamu=this.tamus[0];const a=new Date,n=new Date;n.setDate(n.getDate()+1),this.tglmsk=m(a).format("YYYY-MM-DD"),this.tglklr=m(n).format("YYYY-MM-DD")}catch(l){console.log(l)}},kodeOnChange(l){this.nama=l.nama_tamu},hargaUpdate(){this.jeniskamar=="Single"?this.harga="150000":this.jeniskamar=="Double"?this.harga="250000":this.jeniskamar=="Suite"?this.harga="425000":this.jeniskamar=="VIP"&&(this.harga="550000")}}},w={class:"row container"},x={class:"forms mx-3 my-4 col-lg-6"},V={class:"my-3 mx-3"},Y=t("label",{class:"form-label"},"Kode Tamu",-1),M=["value"],S={class:"my-3 mx-3"},T=t("label",{for:"nama",class:"form-label"},"Nama Tamu",-1),N={class:"my-3 mx-3"},U=t("label",{for:"nomorkamar",class:"form-label"},"Nomor Kamar",-1),K={class:"my-3 mx-3"},I=t("label",{for:"jeniskamar",class:"form-label"},"Jenis Kamar",-1),L={class:"row"},O={class:"col"},B=t("option",{value:"Single"},"Single",-1),C=t("option",{value:"Double"},"Double",-1),P=t("option",{value:"Suite"},"Suite",-1),R=t("option",{value:"VIP"},"VIP",-1),J=[B,C,P,R],A={class:"col"},F={class:"input-group"},q=t("div",{class:"input-group-text"},"Rp",-1),E=t("div",{class:"input-group-text"},"/Malam",-1),H={class:"my-3 mx-3"},W={class:"row"},z={class:"col"},G=t("label",{for:"tglmsk",class:"form-label"},"Tanggal Inap",-1),Q={class:"col"},X=t("label",{for:"tglklr",class:"form-label"},"Tanggal Keluar",-1),Z={class:"my-3 mx-3"},$={class:"row container"},tt={class:"my-3 mx-3"},at=t("label",{class:"form-label"},"Laporan Bulan",-1),et=k('<option value="0">Semua</option><option value="1">Januari</option><option value="2">Februari</option><option value="3">Maret</option><option value="4">April</option><option value="5">Mei</option><option value="6">Juni</option><option value="7">Juli</option><option value="8">Agustus</option><option value="9">September</option><option value="10">Oktober</option><option value="11">November</option><option value="12">Desember</option>',13),ot=[et],lt={class:"justify-content-center my-3 mx-3"},st={class:"table bordered-table"},nt=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"No."),t("th",{scope:"col"},"Kode Tamu"),t("th",{scope:"col"},"Nama Tamu"),t("th",{scope:"col"},"Tanggal Inap"),t("th",{scope:"col"},"Tanggal Keluar"),t("th",{scope:"col"},"No Kamar"),t("th",{scope:"col"},"Jenis Kamar"),t("th",{scope:"col"},"Tarif/Malam"),t("th",{scope:"col"},"Lama Inap"),t("th",{scope:"col"},"Bayar Total")])],-1),it=["value"];function rt(l,a,n,u,o,s){return d(),c(g,null,[t("div",w,[t("div",x,[t("form",null,[t("div",V,[Y,r(t("select",{name:"kodetamu",id:"kodetamu",onChange:a[0]||(a[0]=e=>s.kodeOnChange(o.kodetamu)),class:"form-select","onUpdate:modelValue":a[1]||(a[1]=e=>o.kodetamu=e)},[(d(!0),c(g,null,f(o.tamus,e=>(d(),c("option",{value:e,key:e.kode_tamu},i(e.kode_tamu),9,M))),128))],544),[[_,o.kodetamu,void 0,{number:!0}]])]),t("div",S,[T,r(t("input",{type:"text",name:"nama",id:"nama",class:"form-control input-sm",placeholder:"Nama Tamu","onUpdate:modelValue":a[2]||(a[2]=e=>o.nama=e),disabled:""},null,512),[[h,o.nama]])]),t("div",N,[U,r(t("input",{type:"text",name:"nomorkamar",id:"nomorkamar",placeholder:"Nomor Kamar","onUpdate:modelValue":a[3]||(a[3]=e=>o.nomorkamar=e),required:"",class:"form-control input-sm"},null,512),[[h,o.nomorkamar]])]),t("div",K,[I,t("div",L,[t("div",O,[r(t("select",{id:"jeniskamar",class:"form-select","aria-label":"jeniskamar","onUpdate:modelValue":a[4]||(a[4]=e=>o.jeniskamar=e),onChange:a[5]||(a[5]=(...e)=>s.hargaUpdate&&s.hargaUpdate(...e))},J,544),[[_,o.jeniskamar,void 0,{number:!0}]])]),t("div",A,[t("div",F,[q,r(t("input",{type:"text",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=e=>o.harga=e),readonly:""},null,512),[[h,o.harga]]),E])])])]),t("div",H,[t("div",W,[t("div",z,[G,r(t("input",{type:"date",name:"tglmsk",id:"tglmsk","onUpdate:modelValue":a[7]||(a[7]=e=>o.tglmsk=e),class:"form-control"},null,512),[[h,o.tglmsk]])]),t("div",Q,[X,r(t("input",{type:"date",name:"tglklr",id:"tglklr","onUpdate:modelValue":a[8]||(a[8]=e=>o.tglklr=e),class:"form-control"},null,512),[[h,o.tglklr]])])])]),t("div",Z,[t("button",{class:"btn btn-primary",onClick:a[9]||(a[9]=(...e)=>s.saveRekord&&s.saveRekord(...e))},"Tambahkan")])])])]),t("div",$,[t("div",tt,[at,r(t("select",{name:"bulan",id:"bulan",class:"form-select","onUpdate:modelValue":a[10]||(a[10]=e=>o.bulan=e),onChange:a[11]||(a[11]=(...e)=>s.getView&&s.getView(...e))},ot,544),[[_,o.bulan,void 0,{number:!0}]])]),t("div",lt,[t("table",st,[nt,t("tbody",null,[(d(!0),c(g,null,f(o.datasemua,e=>(d(),c("tr",{value:e,key:e.kode_inap},[t("td",null,i(e.id_inap),1),t("td",null,i(e.kode_tamu),1),t("td",null,i(e.nama_tamu),1),t("td",null,i(e.tgl_inap),1),t("td",null,i(e.tgl_keluar),1),t("td",null,i(e.no_kamar),1),t("td",null,i(e.jenis_kamar),1),t("td",null,"Rp "+i(e.tarif),1),t("td",null,i(e.durasi)+" Hari",1),t("td",null,"Rp "+i(e.total),1)],8,it))),128))])])])])],64)}var ut=D(j,[["render",rt]]);const mt={setup(l){return(a,n)=>(d(),v(ut))}};b(mt).mount("#app");
